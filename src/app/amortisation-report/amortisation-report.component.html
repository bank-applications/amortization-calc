<div class="amortisation-report-section">
  <p-card header="Amortisation Report" [dt]="cardStyles">
    <p-table [dt]="tableStyles" [value]="data" dataKey="id"
             [tableStyle]="customTableStyles" [expandedRowKeys]="expandedRows"
             [scrollable]="true" [columnResizeMode]="'expand'" [resizableColumns]="true"
             (onRowExpand)="onRowExpand($event)" (onRowCollapse)="onRowCollapse($event)">
      <ng-template #header>
        <tr>
          <th style="width: 5rem"></th>
          <th *ngFor="let column of reportColumns" [pSortableColumn]="column.field">
            {{ column.displayName }}
            <p-sortIcon [field]="column.field"/>
          </th>
        </tr>
      </ng-template>
      <ng-template #body let-record let-expanded="expanded">
        <tr>
          <td>
            <p-button type="button" pRipple [pRowToggler]="record" [text]="true" [rounded]="true" [plain]="true"
                      [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"  class="expansion-toggle"/>
          </td>
          <td *ngFor="let column of reportColumns">
            <span *ngIf="column.field != 'paymentDate' && column.field != 'dueDate'">{{ record[column.field] }}</span>
            <span
              *ngIf="column.field == 'paymentDate' || column.field == 'dueDate'">{{ record[column.field] | date }}</span>
          </td>
        </tr>
      </ng-template>
      <ng-template #expandedrow let-product>
        <tr>
          <td *ngFor="let column of reportColumns">

          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</div>
